import { useState, useEffect } from "react";
import { Link, useLocation } from "wouter";
import { Search, Menu, GraduationCap, ChevronRight, X, Clock, Target, Brain, ArrowRight, Loader2, BookOpen, Users, Award, Calendar, Settings, Zap, Battery, Trophy, CheckCircle, ChevronDown } from "lucide-react";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import { useAuth } from "@/hooks/use-auth";
import { useQuery } from "@tanstack/react-query";

// Asset Imports
import csThumbnail from "@assets/generated_images/computer_science_course_thumbnail.png";
import artThumbnail from "@assets/generated_images/art_history_course_thumbnail.png";
import mathThumbnail from "@assets/generated_images/mathematics_course_thumbnail.png";
import heroBg from "@assets/generated_images/harvard_yard_entrance_with_banners.png";

import { motion } from "framer-motion";

import { ThinkingBridge } from "@/components/ThinkingBridge";
import { ReservationDialog } from "@/components/ReservationDialog";
import { PlanConfiguratorNew } from "@/components/PlanConfiguratorNew";

interface PlanConfiguration {
  id: string;
  planKey: string;
  planName: string;
  planSubtitle: string | null;
  monthlyPrice: number;
  enrollmentPrice: number;
  annualTotal: number | null;
  academicLoad: string | null;
  evaluationsDetail: string | null;
  subjects: string;
  description: string | null;
  category: string | null;
  linkText: string | null;
  isActive: boolean;
  sortOrder: number;
}

// Filter options - Harvard style
const topics = ["Cualquier Tema", "Matem√°ticas", "Ciencias", "Historia", "Lenguaje", "Artes"];
const levels = ["Cualquier Nivel", "7¬∞ B√°sico", "8¬∞ B√°sico", "1¬∞ Medio", "2¬∞ Medio", "3¬∞ Medio", "4¬∞ Medio"];
const durations = ["Cualquier Duraci√≥n", "Semestral", "Anual", "Por Asignatura"];

export default function Home() {
  const [isScrolled, setIsScrolled] = useState(false);
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
  const [reservationDialogOpen, setReservationDialogOpen] = useState(false);
  const [showHeader, setShowHeader] = useState(true);
  const [lastScrollY, setLastScrollY] = useState(0);
  const [menuExpanded, setMenuExpanded] = useState(false);
  const { user, isLoading, isAuthenticated } = useAuth();
  const [, setLocation] = useLocation();
  
  // Harvard-style filter states
  const [selectedTopic, setSelectedTopic] = useState("Cualquier Tema");
  const [selectedLevel, setSelectedLevel] = useState("Cualquier Nivel");
  const [selectedDuration, setSelectedDuration] = useState("Cualquier Duraci√≥n");
  const [topicOpen, setTopicOpen] = useState(false);
  const [levelOpen, setLevelOpen] = useState(false);
  const [durationOpen, setDurationOpen] = useState(false);

  // Fetch plans from API
  const { data: apiPlans, isLoading: isLoadingPlans } = useQuery<PlanConfiguration[]>({
    queryKey: ["/api/plans"],
    staleTime: 5 * 60 * 1000, // Cache for 5 minutes
  });

  // Fetch adult cycles
  const { data: adultCycles, isLoading: isLoadingAdult } = useQuery<any[]>({
    queryKey: ["/api/adult-cycles"],
    staleTime: 5 * 60 * 1000,
  });

  useEffect(() => {
    const handleScroll = () => {
      const currentScrollY = window.scrollY;
      
      // Harvard style: hide on scroll down, show on scroll up
      if (currentScrollY < lastScrollY || currentScrollY < 100) {
        setShowHeader(true);
      } else if (currentScrollY > lastScrollY && currentScrollY > 100) {
        setShowHeader(false);
      }
      
      setLastScrollY(currentScrollY);
      setIsScrolled(currentScrollY > 50);
    };
    
    window.addEventListener("scroll", handleScroll, { passive: true });
    return () => window.removeEventListener("scroll", handleScroll);
  }, [lastScrollY]);

  useEffect(() => {
    if (!isLoading && isAuthenticated) {
      setLocation("/dashboard");
    }
  }, [isLoading, isAuthenticated, setLocation]);

  // Format currency for Chilean Pesos
  const formatCurrency = (value: number) => {
    return new Intl.NumberFormat("es-CL", {
      style: "currency",
      currency: "CLP",
      minimumFractionDigits: 0,
    }).format(value);
  };

  // Map API plans to program format
  const programs = apiPlans?.map((plan, index) => ({
    id: plan.id,
    title: plan.planName,
    subtitle: plan.planSubtitle || "",
    price: `Mensualidad: ${formatCurrency(plan.monthlyPrice)} | Matr√≠cula: ${formatCurrency(plan.enrollmentPrice)}`,
    description: plan.description || "",
    image: [csThumbnail, mathThumbnail, artThumbnail, heroBg][index % 4], // Rotate through images
    category: plan.category || "Validaci√≥n de Estudios",
    linkText: plan.linkText || "M√°s Informaci√≥n",
    academicLoad: plan.academicLoad,
    evaluationsDetail: plan.evaluationsDetail,
  })) || [
    // Fallback data if API fails
    {
      id: "1",
      title: "Plan Barkley FOCUS",
      subtitle: "J√≥venes (7¬∞ a 4¬∞ Medio)",
      price: "Matr√≠cula: $50.000 Mensualidad: $75.000",
      description: "Preparaci√≥n para Ex√°menes Libres (Decreto 2272). Dise√±ado para estudiantes que necesitan estructura y apoyo constante.",
      image: csThumbnail,
      category: "Validaci√≥n de Estudios",
      linkText: "M√°s Informaci√≥n"
    },
  ];

  const masteryPillars = [
    {
      title: "1. Enfoque en Autonom√≠a (Self-Paced)",
      description: "Paso 1: Rompemos la inercia de la educaci√≥n pasiva. Tomas el control total de tu tiempo con contenido On-Demand de alto impacto, eliminando la dependencia de horarios fijos y clases magistrales innecesarias.",
      icon: Zap
    },
    {
      title: "2. Aprendizaje Adaptativo (Mastery Path)",
      description: "Paso 2: Avanzas solo cuando demuestras dominio. Nuestra IA especialista detecta tus brechas en tiempo real y personaliza tu ruta, asegurando que cada concepto sea una competencia ganada antes de dar el siguiente paso.",
      icon: Target
    },
    {
      title: "3. Success Mentoring (Performance)",
      description: "Paso 3: Gesti√≥n de √©xito estrat√©gica. Tu mentor de rendimiento, inspirado en el modelo del MIT, supervisa tu progreso y entrena tu disciplina para asegurar que alcances tu meta de validaci√≥n oficial en tiempo r√©cord.",
      icon: Battery
    }
  ];

  return (
    <div className="min-h-screen bg-[#fafafa] flex flex-col font-sans text-[#1e1e1e] antialiased">
      
      {/* Harvard Style Header - Off-white background, ALWAYS VISIBLE */}
      <header className="fixed top-0 left-0 right-0 z-50 bg-[#fafafa]">
        <div className="max-w-[1400px] mx-auto px-8 py-5">
          <div className="flex items-center justify-between">
            
            {/* Logo with Institute Name - Always visible */}
            <a href="/" className="flex items-center gap-3 opacity-70 hover:opacity-100 transition-opacity z-10">
              <GraduationCap className="w-9 h-9 text-[#a51c30]" strokeWidth={1.5} />
              <div className="flex flex-col">
                <span className="text-[18px] font-serif font-bold text-[#a51c30] leading-none tracking-tight">
                  BARKLEY
                </span>
                <span className="text-[9px] text-[#1e1e1e] font-medium tracking-[0.15em] uppercase mt-0.5">
                  INSTITUTO
                </span>
              </div>
            </a>

            {/* Navigation Pills - Show when NOT scrolled OR when menu is expanded */}
            <div className={`hidden lg:flex items-center gap-4 transition-all duration-500 ease-out ${(isScrolled && !menuExpanded) ? 'opacity-0 translate-x-8 pointer-events-none' : 'opacity-100 translate-x-0'}`}>
              
              {/* First Pill - Main Navigation */}
              <div className="flex items-center gap-6 bg-white rounded-full px-8 py-3 shadow-sm">
                <a href="#" className="text-[14px] text-[#1e1e1e] hover:text-[#a51c30] font-normal transition-colors whitespace-nowrap">
                  Programas
                </a>
                <a href="#" className="text-[14px] text-[#1e1e1e] hover:text-[#a51c30] font-normal transition-colors whitespace-nowrap">
                  M√©todo
                </a>
                <a href="#" className="text-[14px] text-[#1e1e1e] hover:text-[#a51c30] font-normal transition-colors whitespace-nowrap">
                  Plataforma
                </a>
                <button 
                  onClick={() => setReservationDialogOpen(true)}
                  className="text-[14px] text-[#1e1e1e] hover:text-[#a51c30] font-normal transition-colors whitespace-nowrap"
                >
                  Reserva
                </button>
              </div>

              {/* Second Pill - Auth & Actions */}
              <div className="flex items-center gap-4 bg-white rounded-full px-6 py-3 shadow-sm">
                <Link href="/dashboard">
                  <button className="text-[14px] text-[#1e1e1e] hover:text-[#a51c30] font-normal transition-colors whitespace-nowrap">
                    Intranet
                  </button>
                </Link>
                
                {isLoading ? (
                  <button className="flex items-center gap-2 text-[14px] text-[#1e1e1e]" disabled>
                    <Loader2 className="w-4 h-4 animate-spin" />
                    <span>Cargando</span>
                  </button>
                ) : (
                  <a href="/api/auth/google" data-testid="btn-login-google">
                    <button className="flex items-center gap-2 text-[14px] text-[#1e1e1e] hover:text-[#a51c30] font-normal transition-colors whitespace-nowrap">
                      <svg className="w-4 h-4" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" />
                        <path fill="currentColor" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" />
                        <path fill="currentColor" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z" />
                        <path fill="currentColor" d="M12 5.38c1.62 0 3.06.56 4.21 1.66l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" />
                      </svg>
                      <span>Ingresar</span>
                    </button>
                  </a>
                )}
              </div>
            </div>

            {/* Hamburger Button - Circle with 2 lines (shows when scrolled AND menu not expanded) */}
            <button 
              onClick={() => setMenuExpanded(!menuExpanded)}
              className={`hidden lg:flex items-center justify-center w-12 h-12 rounded-full bg-white shadow-sm hover:shadow-md transition-all duration-500 ease-out ${(isScrolled && !menuExpanded) ? 'opacity-100 translate-x-0' : 'opacity-0 -translate-x-8 pointer-events-none'}`}
            >
              <div className="flex flex-col gap-1.5">
                <div className="w-5 h-0.5 bg-[#1e1e1e] rounded-full"></div>
                <div className="w-5 h-0.5 bg-[#1e1e1e] rounded-full"></div>
              </div>
            </button>

            {/* Mobile Hamburger - Always visible on mobile */}
            <button 
              onClick={() => setMobileMenuOpen(true)}
              className="lg:hidden flex items-center justify-center w-12 h-12 rounded-full bg-white shadow-sm hover:shadow-md transition-all"
            >
              <div className="flex flex-col gap-1.5">
                <div className="w-5 h-0.5 bg-[#1e1e1e] rounded-full"></div>
                <div className="w-5 h-0.5 bg-[#1e1e1e] rounded-full"></div>
              </div>
            </button>
          </div>
        </div>
      </header>

      {/* Spacer for fixed header */}
      <div className="h-20"></div>

      <main className="bg-[#fafafa]">
        {/* Hero Section - Harvard White Background Style with Branded Patterns */}
        <section className="relative min-h-[90vh] flex items-center overflow-hidden bg-white">
          {/* Pure white base */}
          <div className="absolute inset-0 bg-white" />

          {/* Visible branded patterns - DNA of your model */}
          
          {/* Pattern 1: Dots Grid (neural connections) - Subtle pulse animation */}
          <motion.div 
            className="absolute inset-0" 
            animate={{
              opacity: [0.06, 0.08, 0.06],
            }}
            transition={{
              duration: 4,
              repeat: Infinity,
              ease: "easeInOut"
            }}
            style={{
              backgroundImage: 'radial-gradient(circle, #001f3f 1px, transparent 1px)',
              backgroundSize: '50px 50px',
            }} 
          />

          {/* Pattern 2: Diagonal Lines (brain pathways) - Slow drift animation */}
          <motion.div 
            className="absolute inset-0" 
            animate={{
              backgroundPosition: ['0px 0px', '100px 100px', '0px 0px'],
            }}
            transition={{
              duration: 20,
              repeat: Infinity,
              ease: "linear"
            }}
            style={{
              backgroundImage: 'repeating-linear-gradient(45deg, transparent, transparent 50px, #001f3f 50px, #001f3f 51px)',
              opacity: 0.03
            }} 
          />

          {/* Pattern 3: Large Circles (goals/targets) - Top Right - Breathing animation */}
          <motion.div 
            className="absolute -top-32 -right-32 w-[600px] h-[600px]"
            animate={{
              scale: [1, 1.05, 1],
              rotate: [0, 5, 0]
            }}
            transition={{
              duration: 15,
              repeat: Infinity,
              ease: "easeInOut"
            }}
          >
            <motion.div 
              className="w-full h-full rounded-full border-4 border-[#001f3f] opacity-5"
              animate={{
                scale: [1, 1.02, 1],
              }}
              transition={{
                duration: 8,
                repeat: Infinity,
                ease: "easeInOut"
              }}
            ></motion.div>
            <motion.div 
              className="absolute top-[100px] left-[100px] w-[400px] h-[400px] rounded-full border-4 border-[#001f3f] opacity-5"
              animate={{
                scale: [1, 1.03, 1],
              }}
              transition={{
                duration: 6,
                repeat: Infinity,
                ease: "easeInOut",
                delay: 0.5
              }}
            ></motion.div>
            <motion.div 
              className="absolute top-[200px] left-[200px] w-[200px] h-[200px] rounded-full border-4 border-[#001f3f] opacity-5"
              animate={{
                scale: [1, 1.05, 1],
              }}
              transition={{
                duration: 4,
                repeat: Infinity,
                ease: "easeInOut",
                delay: 1
              }}
            ></motion.div>
          </motion.div>

          {/* Pattern 4: Clock/Time Symbol - Bottom Left - Rotating clock hands */}
          <motion.div 
            className="absolute -bottom-20 -left-20 w-[400px] h-[400px] opacity-5"
            animate={{
              scale: [1, 1.02, 1],
            }}
            transition={{
              duration: 10,
              repeat: Infinity,
              ease: "easeInOut"
            }}
          >
            <div className="w-full h-full rounded-full border-[6px] border-[#001f3f]"></div>
            {/* Hour hand - slow rotation */}
            <motion.div 
              className="absolute top-1/2 left-1/2 w-[4px] h-[150px] bg-[#001f3f] origin-bottom"
              style={{
                transform: 'translate(-50%, -150px)',
                transformOrigin: 'bottom center'
              }}
              animate={{
                rotate: [0, 360]
              }}
              transition={{
                duration: 60,
                repeat: Infinity,
                ease: "linear"
              }}
            ></motion.div>
            {/* Minute hand - faster rotation */}
            <motion.div 
              className="absolute top-1/2 left-1/2 w-[100px] h-[4px] bg-[#001f3f] origin-left"
              style={{
                transformOrigin: 'left center'
              }}
              animate={{
                rotate: [0, 360]
              }}
              transition={{
                duration: 30,
                repeat: Infinity,
                ease: "linear"
              }}
            ></motion.div>
          </motion.div>

          {/* Pattern 5: Brain Waves - Horizontal - Wave animation */}
          <motion.div 
            className="absolute inset-0"
            animate={{
              backgroundPosition: ['0px 0px', '0px 200px', '0px 0px'],
              opacity: [0.02, 0.03, 0.02]
            }}
            transition={{
              duration: 12,
              repeat: Infinity,
              ease: "easeInOut"
            }}
            style={{
              backgroundImage: `repeating-linear-gradient(
                0deg,
                transparent,
                transparent 100px,
                #001f3f 100px,
                #001f3f 102px
              )`,
            }} 
          />

          {/* Subtle gradient overlay */}
          <div className="absolute inset-0 bg-gradient-to-br from-gray-50/20 via-transparent to-white" />
          <div className="absolute inset-0 bg-gradient-to-t from-white via-transparent to-transparent" />

          <div className="container-harvard relative z-10 pt-32 pb-40">
            <motion.div
              initial={{ opacity: 0, y: 40 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 1, ease: [0.16, 1, 0.3, 1] }}
              className="max-w-5xl"
            >
              {/* Eyebrow text - Harvard style */}
              <motion.div
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ duration: 0.8, delay: 0.2 }}
                className="mb-8"
              >
                <span className="inline-block px-4 py-2 bg-[#a51c30]/10 border border-[#a51c30]/20 text-[#a51c30] text-xs font-semibold uppercase tracking-[0.2em] rounded-full">
                  Instituto UCE Online
                </span>
              </motion.div>

              {/* Main headline - Bigger and bolder like Harvard */}
              <h1 className="text-6xl md:text-7xl lg:text-8xl font-serif text-foreground mb-10 leading-[1.05] font-bold tracking-tight">
                Libera tu tiempo.<br />
                <span className="text-[#a51c30] italic font-light">Domina tu meta.</span>
              </h1>

              {/* Subheadline with better styling */}
              <motion.p
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ duration: 0.8, delay: 0.4 }}
                className="text-xl md:text-2xl text-foreground/80 mb-12 leading-[1.6] font-light max-w-3xl"
              >
                Educaci√≥n asincr√≥nica de alto rendimiento, impulsada por IA y dirigida por <span className="text-foreground font-medium">Success Mentors</span> especializados.
              </motion.p>

              {/* CTA Buttons with better spacing */}
              <motion.div
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ duration: 0.8, delay: 0.6 }}
                className="flex flex-col sm:flex-row gap-5"
              >
                <Button
                  size="lg"
                  onClick={() => setReservationDialogOpen(true)}
                  className="bg-[#a51c30] text-white hover:bg-[#8a1828] rounded-full px-12 py-7 text-base font-semibold transition-all group shadow-2xl hover:shadow-[#a51c30]/50 hover:scale-105"
                >
                  <Calendar className="mr-2 w-5 h-5" />
                  Reservar Cupo
                  <ChevronRight className="ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform" />
                </Button>
                <Button 
                  size="lg" 
                  variant="outline" 
                  className="bg-white border-2 border-foreground/20 text-foreground hover:bg-foreground/5 hover:border-foreground/40 rounded-full px-12 py-7 text-base font-semibold transition-all hover:scale-105"
                >
                  Conoce el M√©todo
                  <ArrowRight className="ml-2 w-5 h-5" />
                </Button>
              </motion.div>

              {/* Trust indicators - Harvard style */}
              <motion.div
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ duration: 0.8, delay: 0.8 }}
                className="mt-16 flex flex-wrap items-center gap-8 text-foreground/60 text-sm"
              >
                <div className="flex items-center gap-2">
                  <CheckCircle className="w-5 h-5 text-[#a51c30]" />
                  <span>100% Aprobaci√≥n</span>
                </div>
                <div className="flex items-center gap-2">
                  <CheckCircle className="w-5 h-5 text-[#a51c30]" />
                  <span>Certificaci√≥n MINEDUC</span>
                </div>
                <div className="flex items-center gap-2">
                  <CheckCircle className="w-5 h-5 text-[#a51c30]" />
                  <span>Metodolog√≠a Barkley</span>
                </div>
              </motion.div>
            </motion.div>
          </div>

          {/* Bottom fade to next section */}
          <div className="absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-white via-white/50 to-transparent" />
        </section>

        {/* High-End Video Players Section */}
        <section className="bg-gradient-to-br from-gray-50 via-white to-gray-50 py-32">
          <div className="container-harvard">
            <motion.div
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              viewport={{ once: true }}
              transition={{ duration: 0.6 }}
              className="space-y-16"
            >
              {/* Section Header */}
              <div className="text-center space-y-6">
                <h2 className="text-5xl md:text-6xl font-serif font-bold text-foreground leading-tight">
                  Descubre nuestro m√©todo
                </h2>
                <p className="text-xl text-foreground/70 max-w-3xl mx-auto">
                  Conoce c√≥mo transformamos la educaci√≥n a trav√©s de estos videos
                </p>
              </div>

              {/* Two Video Players Side by Side */}
              <div className="grid md:grid-cols-2 gap-12 max-w-7xl mx-auto">
                
                {/* Video Player 1 - Left */}
                <motion.div
                  initial={{ opacity: 0, x: -30 }}
                  whileInView={{ opacity: 1, x: 0 }}
                  viewport={{ once: true }}
                  transition={{ duration: 0.8 }}
                  className="group"
                >
                  <div className="relative bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-3xl overflow-hidden shadow-2xl hover:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.3)] transition-all duration-500 p-4">
                    <div className="relative rounded-xl overflow-hidden shadow-inner" style={{ height: '350px' }}>
                      <video 
                        controls
                        className="w-full h-full rounded-lg"
                        poster="/video-poster-1.jpg"
                        style={{
                          boxShadow: 'inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)',
                          objectFit: 'contain',
                          backgroundColor: '#000'
                        }}
                      >
                        <source src="/video1.mp4" type="video/mp4" />
                        Tu navegador no soporta el elemento de video.
                      </video>
                      
                      {/* Elegant shine effect on hover */}
                      <div className="absolute inset-0 bg-gradient-to-tr from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none"></div>
                    </div>
                  </div>
                </motion.div>

                {/* Video Player 2 - Right */}
                <motion.div
                  initial={{ opacity: 0, x: 30 }}
                  whileInView={{ opacity: 1, x: 0 }}
                  viewport={{ once: true }}
                  transition={{ duration: 0.8 }}
                  className="group"
                >
                  <div className="relative bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-3xl overflow-hidden shadow-2xl hover:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.3)] transition-all duration-500 p-4">
                    <div className="relative rounded-xl overflow-hidden shadow-inner" style={{ height: '350px' }}>
                      <video 
                        controls
                        className="w-full h-full rounded-lg"
                        poster="/video-poster-2.jpg"
                        style={{
                          boxShadow: 'inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)',
                          objectFit: 'contain',
                          backgroundColor: '#000'
                        }}
                      >
                        <source src="/video2.mp4" type="video/mp4" />
                        Tu navegador no soporta el elemento de video.
                      </video>
                      
                      {/* Elegant shine effect on hover */}
                      <div className="absolute inset-0 bg-gradient-to-tr from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none"></div>
                    </div>
                  </div>
                </motion.div>
              </div>
            </motion.div>
          </div>
        </section>

        {/* Thinking Bridge - Metaphor Section */}
        <ThinkingBridge />

        {/* Interactive Plan Configurator - New Premium Version */}
        <PlanConfiguratorNew />

        {/* Academic Copilot Section - 3 Columns */}
        <section className="py-32 bg-gradient-to-br from-[#0a1628] via-[#0d1b2a] to-[#1b263b] relative overflow-hidden">
          <div className="max-w-[1600px] mx-auto px-8">
            <div className="grid grid-cols-1 lg:grid-cols-3 gap-12 items-center">
              
              {/* Left Column - Video Loop */}
              <motion.div
                initial={{ opacity: 0, x: -30 }}
                whileInView={{ opacity: 1, x: 0 }}
                viewport={{ once: true }}
                transition={{ duration: 0.8 }}
                className="relative h-[600px] rounded-2xl overflow-hidden shadow-2xl"
              >
                <video 
                  autoPlay 
                  loop 
                  muted 
                  playsInline
                  className="w-full h-full object-cover"
                >
                  <source src="/video3.mp4" type="video/mp4" />
                  Tu navegador no soporta videos.
                </video>
                <div className="absolute inset-0 bg-gradient-to-t from-[#1e1e1e] via-transparent to-transparent pointer-events-none"></div>
              </motion.div>

              {/* Center Column - Title & Description */}
              <motion.div
                initial={{ opacity: 0, y: 20 }}
                whileInView={{ opacity: 1, y: 0 }}
                viewport={{ once: true }}
                transition={{ duration: 0.8, delay: 0.2 }}
                className="space-y-6 lg:col-span-1 flex flex-col justify-center"
                style={{ minHeight: '600px' }}
              >
                <div className="space-y-3">
                  <h2 className="text-3xl md:text-4xl lg:text-5xl font-serif font-bold text-white leading-[1.1] tracking-tight">
                    Conoce a <span className="text-[#D4AF37]">ACADEMIC COPILOT</span>:<br />
                    <span className="text-white/90">Tu Mentor Inteligente 24/7</span>
                  </h2>
                  <p className="text-[#a51c30] text-lg md:text-xl font-semibold italic">
                    No es solo Inteligencia Artificial. Es el futuro del √©xito acad√©mico en Chile.
                  </p>
                </div>
                <div className="h-0.5 bg-[#a51c30] w-16" />
                <p className="text-white/75 text-base md:text-lg leading-[1.7] font-normal">
                  ¬øTe imaginas tener a un profesor experto a tu lado, en cada tarea, a cualquier hora? Academic Copilot es la pieza central del ecosistema educativo de nuestro instituto. Es mucho m√°s que una IA: es un <span className="text-[#D4AF37] font-semibold">Success Mentor personalizado</span> para estudiantes de 7¬∫ b√°sico a 4¬∫ medio.
                </p>
              </motion.div>

              {/* Right Column - Academic Copilot Features */}
              <motion.div
                initial={{ opacity: 0, x: 30 }}
                whileInView={{ opacity: 1, x: 0 }}
                viewport={{ once: true }}
                transition={{ duration: 0.8, delay: 0.4 }}
                className="relative"
                style={{ minHeight: '600px' }}
              >
                <div className="bg-gradient-to-br from-[#0f1a2e] via-[#132238] to-[#172a42] rounded-2xl p-8 shadow-2xl border border-white/10 h-full flex flex-col justify-center">
                  <div className="mb-8">
                    <h3 className="text-2xl md:text-3xl font-bold text-white mb-2">
                      ¬øPor qu√© elegir <span className="text-[#D4AF37]">Academic Copilot</span>?
                    </h3>
                    <div className="h-0.5 bg-[#a51c30] w-12" />
                  </div>
                  
                  <div className="space-y-6">
                    <div className="space-y-5">
                      <div className="flex items-start gap-4">
                        <div className="text-3xl shrink-0">üöÄ</div>
                        <div>
                          <h4 className="text-white font-bold mb-1 text-lg">Dominio Multidisciplinario</h4>
                          <p className="text-white/70 text-sm leading-relaxed">
                            Experto en todas las materias del curr√≠culo escolar chileno
                          </p>
                        </div>
                      </div>

                      <div className="flex items-start gap-4">
                        <div className="text-3xl shrink-0">üß†</div>
                        <div>
                          <h4 className="text-white font-bold mb-1 text-lg">M√©todo Socr√°tico</h4>
                          <p className="text-white/70 text-sm leading-relaxed">
                            Aprende pensando: te gu√≠a con preguntas para que descubras las respuestas
                          </p>
                        </div>
                      </div>

                      <div className="flex items-start gap-4">
                        <div className="text-3xl shrink-0">üá®üá±</div>
                        <div>
                          <h4 className="text-white font-bold mb-1 text-lg">Alineado al Curr√≠culo Nacional</h4>
                          <p className="text-white/70 text-sm leading-relaxed">
                            100% compatible con los programas de estudio chilenos
                          </p>
                        </div>
                      </div>

                      <div className="flex items-start gap-4">
                        <div className="text-3xl shrink-0">‚ö°</div>
                        <div>
                          <h4 className="text-white font-bold mb-1 text-lg">Feedback Inmediato</h4>
                          <p className="text-white/70 text-sm leading-relaxed">
                            Respuestas instant√°neas para mantener tu ritmo de aprendizaje
                          </p>
                        </div>
                      </div>

                      <div className="flex items-start gap-4">
                        <div className="text-3xl shrink-0">üéì</div>
                        <div>
                          <h4 className="text-white font-bold mb-1 text-lg">Tecnolog√≠a con Prop√≥sito</h4>
                          <p className="text-white/70 text-sm leading-relaxed">
                            IA dise√±ada exclusivamente para potenciar tu √©xito acad√©mico
                          </p>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
              </motion.div>

            </div>
          </div>
        </section>
      </main>

      {/* Tech Stack / Partners Section */}
      <section className="bg-[#fafafa] py-16 border-t border-[#1e1e1e]/5">
        <div className="container-harvard">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            transition={{ duration: 0.6 }}
            className="text-center"
          >
            <p className="text-[10px] font-semibold uppercase tracking-[0.25em] text-[#1e1e1e]/40 mb-12">
              Construido con tecnolog√≠a de clase mundial
            </p>
            <div className="flex flex-nowrap items-center justify-center gap-8 md:gap-12 lg:gap-16 opacity-25 grayscale hover:grayscale-0 hover:opacity-60 transition-all duration-500 overflow-x-auto pb-12">
              {/* VS Code */}
              <motion.div
                whileHover={{ scale: 1.2, opacity: 1 }}
                transition={{ duration: 0.2 }}
                className="flex flex-col items-center justify-center gap-3 group relative flex-shrink-0"
              >
                <svg className="w-16 h-16" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M17.5.5l-.67.07L8.5 4.43 3.76 1.68l-.38-.22-.42.14-1.47.5-.49.17v.76l.02 18.5v.63l.5.18 1.47.5.39.13.41-.12 4.7-2.7 8.34 3.85.66.07.85-.44 3.51-1.82.5-.25V1.99l-.5-.25L18.35.92l-.85-.42zM18 4.42v15.15l-6-2.76V7.18l6-2.76zm-8 .64v13.88l-3.5 2.03V3.03L10 5.06z"/>
                </svg>
                <span className="text-xs font-semibold text-[#1e1e1e] opacity-0 group-hover:opacity-100 transition-opacity duration-300 absolute -bottom-8 whitespace-nowrap">
                  VS Code
                </span>
              </motion.div>

              {/* Gemini AI */}
              <motion.div
                whileHover={{ scale: 1.2, opacity: 1 }}
                transition={{ duration: 0.2 }}
                className="flex flex-col items-center justify-center gap-3 group relative flex-shrink-0"
              >
                <svg className="w-16 h-16" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 2L2 7v10l10 5 10-5V7L12 2zm0 2.18L19.82 8 12 11.82 4.18 8 12 4.18zM4 9.47l7 3.5v7.86l-7-3.5V9.47zm16 0v7.86l-7 3.5v-7.86l7-3.5z"/>
                </svg>
                <span className="text-xs font-semibold text-[#1e1e1e] opacity-0 group-hover:opacity-100 transition-opacity duration-300 absolute -bottom-8 whitespace-nowrap">
                  Gemini AI
                </span>
              </motion.div>

              {/* Vercel */}
              <motion.div
                whileHover={{ scale: 1.2, opacity: 1 }}
                transition={{ duration: 0.2 }}
                className="flex flex-col items-center justify-center gap-3 group relative flex-shrink-0"
              >
                <svg className="w-16 h-16" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 1L24 22H0L12 1z"/>
                </svg>
                <span className="text-xs font-semibold text-[#1e1e1e] opacity-0 group-hover:opacity-100 transition-opacity duration-300 absolute -bottom-8 whitespace-nowrap">
                  Vercel
                </span>
              </motion.div>

              {/* GitHub */}
              <motion.div
                whileHover={{ scale: 1.2, opacity: 1 }}
                transition={{ duration: 0.2 }}
                className="flex flex-col items-center justify-center gap-3 group relative flex-shrink-0"
              >
                <svg className="w-16 h-16" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
                </svg>
                <span className="text-xs font-semibold text-[#1e1e1e] opacity-0 group-hover:opacity-100 transition-opacity duration-300 absolute -bottom-8 whitespace-nowrap">
                  GitHub
                </span>
              </motion.div>

              {/* NotebookLM */}
              <motion.div
                whileHover={{ scale: 1.2, opacity: 1 }}
                transition={{ duration: 0.2 }}
                className="flex flex-col items-center justify-center gap-3 group relative flex-shrink-0"
              >
                <svg className="w-16 h-16" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.5l1.5 1.5L13 13.5 11.5 12 8 15.5zm0-4l1.5 1.5L13 9.5 11.5 8 8 11.5z"/>
                </svg>
                <span className="text-xs font-semibold text-[#1e1e1e] opacity-0 group-hover:opacity-100 transition-opacity duration-300 absolute -bottom-8 whitespace-nowrap">
                  NotebookLM
                </span>
              </motion.div>

              {/* TypeScript */}
              <motion.div
                whileHover={{ scale: 1.2, opacity: 1 }}
                transition={{ duration: 0.2 }}
                className="flex flex-col items-center justify-center gap-3 group relative flex-shrink-0"
              >
                <svg className="w-16 h-16" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M0 12v12h24V0H0zm19.341-.956c.61.152 1.074.423 1.501.865.221.236.549.666.575.77.008.03-1.036.73-1.668 1.123-.023.015-.115-.084-.217-.236-.31-.45-.633-.644-1.128-.678-.728-.05-1.196.331-1.192.967a.88.88 0 00.102.45c.16.331.458.53 1.39.933 1.719.74 2.454 1.227 2.911 1.92.51.773.625 2.008.278 2.926-.38.998-1.325 1.676-2.655 1.9-.411.073-1.386.062-1.828-.018-.964-.172-1.878-.648-2.442-1.273-.221-.244-.651-.88-.625-.925.011-.016.11-.077.22-.141.108-.061.509-.294.889-.517l.69-.406.185.272c.305.43.72.753 1.188.924.757.27 1.788.169 2.297-.229.204-.16.305-.406.305-.781 0-.278-.035-.41-.174-.609-.183-.26-.55-.484-1.542-.944-1.134-.528-1.617-.848-2.074-1.375a3.026 3.026 0 01-.65-1.64c-.01-.427.015-.846.082-1.194.25-1.313 1.208-2.179 2.624-2.372.396-.055 1.323-.026 1.743.053zM10.15 11.08h2.41v1.141h-1.269v6.73H9.62v-6.73H8.35V11.08h1.8z"/>
                </svg>
                <span className="text-xs font-semibold text-[#1e1e1e] opacity-0 group-hover:opacity-100 transition-opacity duration-300 absolute -bottom-8 whitespace-nowrap">
                  TypeScript
                </span>
              </motion.div>

              {/* React */}
              <motion.div
                whileHover={{ scale: 1.2, opacity: 1 }}
                transition={{ duration: 0.2 }}
                className="flex flex-col items-center justify-center gap-3 group relative flex-shrink-0"
              >
                <svg className="w-16 h-16" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 10.11c1.03 0 1.87.84 1.87 1.89 0 1-.84 1.85-1.87 1.85S10.13 13 10.13 12c0-1.05.84-1.89 1.87-1.89M7.37 20c.63.38 2.01-.2 3.6-1.7-.52-.59-1.03-1.23-1.51-1.9a22.7 22.7 0 01-2.4-.36c-.51 2.14-.32 3.61.31 3.96m.71-5.74l-.29-.51c-.11.29-.22.58-.29.86.27.06.57.11.88.16l-.3-.51m6.54-.76l.81-1.5-.81-1.5c-.3-.53-.62-1-.91-1.47C13.17 9 12.6 9 12 9s-1.17 0-1.71.03c-.29.47-.61.94-.91 1.47L8.57 12l.81 1.5c.3.53.62 1 .91 1.47.54.03 1.11.03 1.71.03s1.17 0 1.71-.03c.29-.47.61-.94.91-1.47M12 6.78c-.19.22-.39.45-.59.72h1.18c-.2-.27-.4-.5-.59-.72m0 10.44c.19-.22.39-.45.59-.72h-1.18c.2.27.4.5.59.72M16.62 4c-.62-.38-2 .2-3.59 1.7.52.59 1.03 1.23 1.51 1.9.82.08 1.63.2 2.4.36.51-2.14.32-3.61-.32-3.96m-.7 5.74l.29.51c.11-.29.22-.58.29-.86-.27-.06-.57-.11-.88-.16l.3.51m1.45-7.05c1.47.84 1.63 3.05 1.01 5.63 2.54.75 4.37 1.99 4.37 3.68s-1.83 2.93-4.37 3.68c.62 2.58.46 4.79-1.01 5.63-1.46.84-3.45-.12-5.37-1.95-1.92 1.83-3.91 2.79-5.38 1.95-1.46-.84-1.62-3.05-1-5.63-2.54-.75-4.37-1.99-4.37-3.68s1.83-2.93 4.37-3.68c-.62-2.58-.46-4.79 1-5.63 1.47-.84 3.46.12 5.38 1.95 1.92-1.83 3.91-2.79 5.37-1.95M17.08 12c.34.75.64 1.5.89 2.26 2.1-.63 3.28-1.53 3.28-2.26s-1.18-1.63-3.28-2.26c-.25.76-.55 1.51-.89 2.26M6.92 12c-.34-.75-.64-1.5-.89-2.26-2.1.63-3.28 1.53-3.28 2.26s1.18 1.63 3.28 2.26c.25-.76.55-1.51.89-2.26m9.55 4.54c.3-.03.59-.07.85-.13-.07-.28-.15-.56-.27-.87l-.29.51c-.29.49-.6.96-.91 1.41.19-.03.37-.07.55-.13.28-.06.54-.11.81-.17l.26-.62m-2.92 2.38c.38-.6.73-1.23 1.05-1.89-.32.02-.65.03-.98.03s-.66-.01-.98-.03c.32.66.67 1.29 1.05 1.89-.14-.35-.28-.71-.41-1.08.13.37.27.73.41 1.08-.38-.6-.73-1.23-1.05-1.89M16.63 20c.63-.38 2.01.2 3.6 1.7-.52-.59-1.03-1.23-1.51-1.9a22.7 22.7 0 01-2.4.36c.51-2.14.32-3.61-.31-3.96"/>
                </svg>
                <span className="text-xs font-semibold text-[#1e1e1e] opacity-0 group-hover:opacity-100 transition-opacity duration-300 absolute -bottom-8 whitespace-nowrap">
                  React
                </span>
              </motion.div>

              {/* Node.js */}
              <motion.div
                whileHover={{ scale: 1.2, opacity: 1 }}
                transition={{ duration: 0.2 }}
                className="flex flex-col items-center justify-center gap-3 group relative flex-shrink-0"
              >
                <svg className="w-16 h-16" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M11.998,24c-0.321,0-0.641-0.084-0.922-0.247l-2.936-1.737c-0.438-0.245-0.224-0.332-0.08-0.383 c0.585-0.203,0.703-0.25,1.328-0.604c0.065-0.037,0.151-0.023,0.218,0.017l2.256,1.339c0.082,0.045,0.197,0.045,0.272,0l8.795-5.076 c0.082-0.047,0.134-0.141,0.134-0.238V6.921c0-0.099-0.053-0.192-0.137-0.242l-8.791-5.072c-0.081-0.047-0.189-0.047-0.271,0 L3.075,6.68C2.99,6.729,2.936,6.825,2.936,6.921v10.15c0,0.097,0.054,0.189,0.139,0.235l2.409,1.392 c1.307,0.654,2.108-0.116,2.108-0.89V7.787c0-0.142,0.114-0.253,0.256-0.253h1.115c0.139,0,0.255,0.112,0.255,0.253v10.021 c0,1.745-0.95,2.745-2.604,2.745c-0.508,0-0.909,0-2.026-0.551L2.28,18.675c-0.57-0.329-0.922-0.945-0.922-1.604V6.921 c0-0.659,0.353-1.275,0.922-1.603l8.795-5.082c0.557-0.315,1.296-0.315,1.848,0l8.794,5.082c0.57,0.329,0.924,0.944,0.924,1.603 v10.15c0,0.659-0.354,1.273-0.924,1.604l-8.794,5.078C12.643,23.916,12.324,24,11.998,24z M19.099,13.993 c0-1.9-1.284-2.406-3.987-2.763c-2.731-0.361-3.009-0.548-3.009-1.187c0-0.528,0.235-1.233,2.258-1.233 c1.807,0,2.473,0.389,2.747,1.607c0.024,0.115,0.129,0.199,0.247,0.199h1.141c0.071,0,0.138-0.031,0.186-0.081 c0.048-0.054,0.074-0.123,0.067-0.196c-0.177-2.098-1.571-3.076-4.388-3.076c-2.508,0-4.004,1.058-4.004,2.833 c0,1.925,1.488,2.457,3.895,2.695c2.88,0.282,3.103,0.703,3.103,1.269c0,0.983-0.789,1.402-2.642,1.402 c-2.327,0-2.839-0.584-3.011-1.742c-0.02-0.124-0.126-0.215-0.253-0.215h-1.137c-0.141,0-0.254,0.112-0.254,0.253 c0,1.482,0.806,3.248,4.655,3.248C17.501,17.007,19.099,15.91,19.099,13.993z"/>
                </svg>
                <span className="text-xs font-semibold text-[#1e1e1e] opacity-0 group-hover:opacity-100 transition-opacity duration-300 absolute -bottom-8 whitespace-nowrap">
                  Node.js
                </span>
              </motion.div>

              {/* TailwindCSS */}
              <motion.div
                whileHover={{ scale: 1.2, opacity: 1 }}
                transition={{ duration: 0.2 }}
                className="flex flex-col items-center justify-center gap-3 group relative flex-shrink-0"
              >
                <svg className="w-16 h-16" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 6c-2.67 0-4.33 1.33-5 4 1-1.33 2.17-1.83 3.5-1.5.76.19 1.31.74 1.91 1.35.98 1 2.09 2.15 4.59 2.15 2.67 0 4.33-1.33 5-4-1 1.33-2.17 1.83-3.5 1.5-.76-.19-1.3-.74-1.91-1.35C15.61 7.15 14.5 6 12 6zM7 12c-2.67 0-4.33 1.33-5 4 1-1.33 2.17-1.83 3.5-1.5.76.19 1.3.74 1.91 1.35C8.39 16.85 9.5 18 12 18c2.67 0 4.33-1.33 5-4-1 1.33-2.17 1.83-3.5 1.5-.76-.19-1.3-.74-1.91-1.35C10.61 13.15 9.5 12 7 12z"/>
                </svg>
                <span className="text-xs font-semibold text-[#1e1e1e] opacity-0 group-hover:opacity-100 transition-opacity duration-300 absolute -bottom-8 whitespace-nowrap">
                  TailwindCSS
                </span>
              </motion.div>

              {/* SQLite */}
              <motion.div
                whileHover={{ scale: 1.2, opacity: 1 }}
                transition={{ duration: 0.2 }}
                className="flex flex-col items-center justify-center gap-3 group relative flex-shrink-0"
              >
                <svg className="w-16 h-16" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M21.678 13.001c.268-.425.354-.904.237-1.356-.119-.449-.42-.835-.85-1.088l-8.203-4.815c-.572-.336-1.303-.336-1.875 0L2.785 10.557c-.43.253-.731.639-.85 1.088-.117.452-.031.931.237 1.356.268.425.697.697 1.178.747.063.008.126.012.188.012.42 0 .819-.152 1.125-.428l7.337-4.31 7.337 4.31c.306.276.705.428 1.125.428.062 0 .125-.004.188-.012.481-.05.91-.322 1.178-.747zM11.797 15.429L4.475 19.73c-.85.5-.85 1.754 0 2.254l7.322 4.301c.425.249.95.249 1.375 0l7.322-4.301c.85-.5.85-1.754 0-2.254l-7.322-4.301c-.425-.249-.95-.249-1.375 0z"/>
                </svg>
                <span className="text-xs font-semibold text-[#1e1e1e] opacity-0 group-hover:opacity-100 transition-opacity duration-300 absolute -bottom-8 whitespace-nowrap">
                  SQLite
                </span>
              </motion.div>
            </div>
          </motion.div>
        </div>
      </section>

      {/* Harvard Interactive Finder Section */}
      <section className="bg-[#2d2d2d] py-24">
        <div className="max-w-[1100px] mx-auto px-8">

          {/* Interactive Statements */}
          <div className="space-y-10 mb-16">
            {/* Statement 1 */}
            <div className="group">
              <h2 className="text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-tight whitespace-nowrap" style={{ fontFamily: "'National 2', sans-serif" }}>
                Quiero dominar <span className="font-bold cursor-pointer transition-all inline-block" style={{ 
                  background: 'linear-gradient(to right, #ff6b9d, #ff4d6d)',
                  WebkitBackgroundClip: 'text',
                  WebkitTextFillColor: 'transparent',
                  backgroundClip: 'text'
                }}>Cualquier Asignatura</span><ChevronRight className="inline-block w-9 h-9 text-[#ff4d6d] ml-3" />
              </h2>
            </div>

            {/* Statement 2 */}
            <div className="group">
              <h2 className="text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-tight whitespace-nowrap" style={{ fontFamily: "'National 2', sans-serif" }}>
                Busco un sistema de <span className="font-bold cursor-pointer transition-all inline-block" style={{ 
                  background: 'linear-gradient(to right, #ff6b9d, #ff4d6d)',
                  WebkitBackgroundClip: 'text',
                  WebkitTextFillColor: 'transparent',
                  backgroundClip: 'text'
                }}>Rendimiento Avanzado</span><ChevronRight className="inline-block w-9 h-9 text-[#ff4d6d] ml-3" />
              </h2>
            </div>
          </div>

          {/* Help Button */}
          <button className="bg-gradient-to-r from-[#c41e3a] to-[#a51c30] text-white px-12 py-5 rounded-full text-[15px] font-semibold hover:from-[#a51c30] hover:to-[#8a1828] transition-all shadow-lg hover:shadow-xl">
            Ay√∫dame a elegir
          </button>
        </div>
      </section>

      {/* Harvard-Style Benefits Section */}
      <section className="py-24 bg-white">
        <div className="container-harvard">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            transition={{ duration: 0.6 }}
            className="text-center mb-20"
          >
            <h2 className="text-4xl md:text-5xl font-serif font-bold mb-6">
              ¬øPor qu√© elegirnos?
            </h2>
            <p className="text-xl text-muted-foreground max-w-2xl mx-auto">
              Educaci√≥n de calidad con metodolog√≠a innovadora
            </p>
          </motion.div>

          <div className="grid md:grid-cols-3 gap-12">
            {[
              {
                icon: Brain,
                title: "Metodolog√≠a Barkley",
                description: "Sistema probado de autorregulaci√≥n y desarrollo de funciones ejecutivas basado en neurociencia"
              },
              {
                icon: Users,
                title: "Acompa√±amiento Personalizado",
                description: "Success Mentors dedicados con seguimiento continuo del progreso acad√©mico"
              },
              {
                icon: Award,
                title: "Certificaci√≥n Oficial",
                description: "Programas validados y reconocidos por el Ministerio de Educaci√≥n de Chile"
              },
              {
                icon: Calendar,
                title: "Flexibilidad Total",
                description: "Aprende a tu ritmo con contenido disponible 24/7 y evaluaciones adaptadas"
              },
              {
                icon: CheckCircle,
                title: "Evaluaci√≥n Continua",
                description: "Sistema de evaluaci√≥n formativa con retroalimentaci√≥n constante e inmediata"
              },
              {
                icon: Trophy,
                title: "Resultados Garantizados",
                description: "100% de tasa de aprobaci√≥n con metodolog√≠a comprobada cient√≠ficamente"
              }
            ].map((benefit, index) => (
              <motion.div
                key={benefit.title}
                initial={{ opacity: 0, y: 20 }}
                whileInView={{ opacity: 1, y: 0 }}
                viewport={{ once: true }}
                transition={{ delay: index * 0.1, duration: 0.5 }}
                className="text-center space-y-6 p-8 rounded-2xl hover:bg-muted/30 transition-all duration-300 group"
              >
                <div className="inline-flex items-center justify-center w-20 h-20 bg-primary/5 rounded-2xl group-hover:bg-primary/10 group-hover:scale-110 transition-all duration-300">
                  <benefit.icon className="w-10 h-10 text-primary" />
                </div>
                <h3 className="text-xl font-bold group-hover:text-primary transition-colors">
                  {benefit.title}
                </h3>
                <p className="text-muted-foreground leading-relaxed">
                  {benefit.description}
                </p>
              </motion.div>
            ))}
          </div>
        </div>
      </section>

      {/* CTA Section - Harvard Style */}
      <section className="py-24 bg-primary text-white">
        <div className="container-harvard text-center">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            transition={{ duration: 0.6 }}
            className="max-w-3xl mx-auto space-y-8"
          >
            <h2 className="text-4xl md:text-5xl font-serif font-bold">
              Comienza tu viaje educativo hoy
            </h2>
            <p className="text-xl text-white/90 leading-relaxed">
              Agenda una reuni√≥n gratuita con nuestros asesores educativos y descubre c√≥mo podemos ayudarte
            </p>
            <Button
              size="lg"
              onClick={() => setReservationDialogOpen(true)}
              className="bg-white text-primary hover:bg-white/90 text-lg px-12 py-7 rounded-full font-semibold shadow-xl hover:shadow-2xl transition-all"
            >
              <Calendar className="mr-2 w-5 h-5" />
              Agendar Reuni√≥n Gratuita
              <ArrowRight className="ml-2 w-5 h-5" />
            </Button>
          </motion.div>
        </div>
      </section>

      {/* Footer - Harvard Clean Style */}
      <footer className="bg-gradient-to-br from-[#0a1628] via-[#0d1b2a] to-[#1b263b] border-t border-white/10 pt-24 pb-16">
        <div className="container-harvard">
          <div className="grid grid-cols-1 lg:grid-cols-12 gap-20 mb-20">
            <div className="lg:col-span-5 space-y-8">
              <div className="flex items-center gap-3">
                <div className="w-12 h-12 bg-[#D4AF37] flex items-center justify-center">
                  <GraduationCap className="text-[#0a1628] w-7 h-7" />
                </div>
                <div className="flex flex-col leading-tight">
                  <span className="font-serif text-[24px] font-bold text-white leading-none">Barkley</span>
                  <span className="text-[10px] tracking-[0.5em] font-semibold text-[#D4AF37] uppercase mt-0.5">Instituto</span>
                </div>
              </div>
              <p className="text-base text-white/75 leading-[1.7] max-w-sm italic font-normal">
                "Cerrando la brecha entre la intenci√≥n y el resultado mediante neurociencia aplicada."
              </p>
            </div>

            <div className="lg:col-span-7 grid grid-cols-1 sm:grid-cols-3 gap-12">
              {[
                { title: "Programas", links: ["Plan Focus", "Plan Impulso", "Stratmore"] },
                { title: "M√©todo", links: ["Pilares", "Neurociencia", "Investigaci√≥n"] },
                { title: "Legal", links: ["Privacidad", "T√©rminos", "Cookies"] }
              ].map(col => (
                <div key={col.title} className="space-y-6">
                  <h4 className="text-[11px] font-semibold uppercase tracking-[0.2em] text-[#a51c30]">{col.title}</h4>
                  <ul className="space-y-3">
                    {col.links.map(link => (
                      <li key={link}>
                        <a href="#" className="text-sm font-medium text-white/70 hover:text-[#D4AF37] transition-colors duration-200">{link}</a>
                      </li>
                    ))}
                  </ul>
                </div>
              ))}
            </div>
          </div>

          <div className="pt-8 border-t border-white/10 flex flex-col md:flex-row justify-between items-center gap-6">
            <p className="text-[10px] font-medium tracking-[0.15em] text-white/50 uppercase">
              ¬© 2026 Barkley Instituto Chile. Todos los derechos reservados.
            </p>
            <div className="flex items-center gap-6 text-[10px] font-medium tracking-[0.15em] text-white/50">
              <span>Neurociencia Aplicada</span>
              <div className="w-12 h-px bg-white/20" />
              <span>Chile</span>
            </div>
          </div>
        </div>
      </footer>

      {/* Mobile Menu Overlay */}
      {mobileMenuOpen && (
        <div className="fixed inset-0 z-[100] bg-[#1e1e1e] text-white p-8 flex flex-col">
          <div className="flex justify-end mb-12">
            <button onClick={() => setMobileMenuOpen(false)} className="text-white/70 hover:text-white transition-colors">
              <X className="w-8 h-8" />
            </button>
          </div>
          <div className="space-y-6">
            {['Programas', 'M√©todo', 'Plataforma'].map(item => (
              <a key={item} href="#" className="block text-3xl font-serif font-bold border-b border-white/10 pb-4 hover:text-[#a51c30] transition-colors">{item}</a>
            ))}
            <button
              onClick={() => {
                setMobileMenuOpen(false);
                setReservationDialogOpen(true);
              }}
              className="block text-3xl font-serif font-bold border-b border-white/10 pb-4 hover:text-[#a51c30] transition-colors text-left w-full"
            >
              Reserva de Cupo
            </button>
          </div>
          <Button
            onClick={() => {
              setMobileMenuOpen(false);
              setReservationDialogOpen(true);
            }}
            className="mt-12 bg-[#a51c30] hover:bg-[#8a1828] h-14 text-base font-semibold rounded-none uppercase tracking-[0.15em]"
          >
            <Calendar className="mr-2 w-5 h-5" />
            Reservar Cupo
          </Button>
        </div>
      )}

      {/* Reservation Dialog */}
      <ReservationDialog open={reservationDialogOpen} onOpenChange={setReservationDialogOpen} />
    </div>
  );
}